# SparkAi 公益免费版

【SparkAi 公益免费版】：基于可商业化运营的 AI Web 系统，支持用户注册登录、会员套餐功能.....

未编译源码暂不开源，公益免费版，授权版有更多的功能支持和快速更新迭代。

此系统为SparkAi系统公益版本，无需授权即可快速部署使用！需要更多功能和稳定性能请购买官方授权版本！

SparkAi创作系统是基于ChatGPT进行开发的Ai智能问答系统和Midjourney绘画系统，以及AI视频生成系统，支持OpenAI-GPT全模型+国内AI全模型。支持GPT-4o大模型、文档分析、识图图片理解、GPTs应用、GPT语音对话、联网提问、GPT-4全模型、DALL-E3文生图、GPT4-All联网搜索模型、思维导图、会员套餐功能、分销系统、Midjourney绘画动态全功能、AI换脸、垫图混图、插件功能等等！

## 授权版官方演示站

### 🖥️ 快速体验

官方演示站【唯一官方演示站点（其他地址均为非官方）】
- 系统用户端：https://ai.sparkaigf.com
- 管理后端：https://ai.sparkaigf.com/sparkai/admin
- 测试账号密码：admin 123456

## 公益免费版-系统页面预览

**AI模型支持**

![AI模型](https://github.com/nosqlnull/chatgpt-midjourney-web-sparkai/public/demo-pic/aichat02.png)

**应用广场**

![应用广场](https://github.com/nosqlnull/chatgpt-midjourney-web-sparkai/public/demo-pic/app-store.png)

![应用广场](https://github.com/nosqlnull/chatgpt-midjourney-web-sparkai/public/demo-pic/app-store02.png)

**AI绘画**

![Midjourney绘画](https://github.com/nosqlnull/chatgpt-midjourney-web-sparkai/public/demo-pic/midjourney01.png)

![Midjourney绘画](https://github.com/nosqlnull/chatgpt-midjourney-web-sparkai/public/demo-pic/app-store02.png)

![Midjourney绘画](https://github.com/nosqlnull/chatgpt-midjourney-web-sparkai/public/demo-pic/app-store03.png)

**Midjourney局部编辑重绘**

![Midjourney局部编辑重绘](https://github.com/nosqlnull/chatgpt-midjourney-web-sparkai/public/demo-pic/VaryRegion.png)

**绘画广场**

![绘画广场](https://github.com/nosqlnull/chatgpt-midjourney-web-sparkai/public/demo-pic/market.png)

**插件功能**

![插件功能](https://github.com/nosqlnull/chatgpt-midjourney-web-sparkai/public/demo-pic/plug.png)

**注册登录模块**

![注册登录](https://github.com/nosqlnull/chatgpt-midjourney-web-sparkai/public/demo-pic/register.png)

**会员功能**

![会员功能](https://github.com/nosqlnull/chatgpt-midjourney-web-sparkai/public/demo-pic/member.png)

![会员功能](https://github.com/nosqlnull/chatgpt-midjourney-web-sparkai/public/demo-pic/member2.png)

![会员功能](https://github.com/nosqlnull/chatgpt-midjourney-web-sparkai/public/demo-pic/member3.png)

**分销邀请**

![分销邀请](https://github.com/nosqlnull/chatgpt-midjourney-web-sparkai/public/demo-pic/share.png)


**后台管理**

![后台管理](https://github.com/nosqlnull/chatgpt-midjourney-web-sparkai/public/demo-pic/admin.png)

![用户管理](https://github.com/nosqlnull/chatgpt-midjourney-web-sparkai/public/demo-pic/admin2.png)


## 系统更新日志

### 授权版本/已支持更多功能

- Midjourney绘画动态全功能
- 混图生图、AI换脸等功能
- 垫图生图、角色一致、风格一致 以及更多自定义参数选择
- 支持AI视频生成大模块！
- 新增支持GPTs应用、支持全网搜索、可以获取所有官方已有的GPTS直接加入系统使用！
- 全模型文件分析功能（只支持带文字的 pdf，word，ppt，txt，md 等文件）
- 全新的插件系统：新增插件系统、多个内置插件、通过配置即可启用、支持识图、支持PDF文档分析、支持对话版本Midjourney、SD绘画等功能、支持自定义插件接入知识库
- tts语音、支持语音模式对话、支持自动播放回复语音、支持六种音色的选择、实时读取、不占用存储空间
- 动态菜单系统：可以自定义开关菜单、添加菜单、自定义ICON、自定义菜单类型、可使用三方站点内嵌、支持移动端PC端各自单独设置
- 支持联网模式、可对模型进行扩展搜索当前网络实时内容总结
- UI界面大改版更新
- 更多功能持续开发中 ··· ···

### 公益免费版历史更新日志

### 【V3.2.0】更新功能
- 新增支持最新GPT-4多模态模型、OpenAI GPT-4-Turbo-With-Vision-128K模型（后续支持对话识图功能）
- 新增支持最新OpenAI GPT-3.5-Turbo-1106、GPT-4-1106-Preview模型
- 新增支持对话插件系统，后续逐步增加插件功能，扩展AI能力
- 新增支持OpenAI DALL-E3文生图插件，可直接对话文生图，搭配GPT4-Turbo使用（官网20231107发布）
- 新增KEY支持单独配置消耗费率，比如GPT4-32K比GPT4成本更高应该消耗更多的额度次数
- 新增后台配置指定用户端默认使用大模型

### 【V3.1.0】更新功能
【已支持 OpenAI GPT全模型 + 国内AI全模型 + 绘画池系统】
- 新增 Midjourney局部重绘（Vary Region）在线编辑功能
- 新增 Midjourney绘画账号池系统，可实现万级用户高并发
- 支持手机端 Midjourney局部重绘功能(Vary Region 局部重绘)
- 首页AI提问UI更新，侧边栏样式更新，对话框工具更新
- 提问模型：新增支持腾讯混元大模型
- 提问模型：新增支持讯飞星火认知大模型V3.0版本（20231024发布评论超越GPT）
- 提问模型：新增支持百度文心4.0版本（对标OpenAI-GPT4.0）
- 移除后台Midjourney绘画代理配置，将转由绘画池一并处理，优化速度
- 用户端大模型列表点击切换后允许自动关闭，且列表支持滑动选择查看
- 修复开启百度敏感词检测，因为以图生图提示词包含了图片链接地址，百度都检测触发推广敏感词导致无法提交绘图的问题

### 【V2.6.4】更新功能
-  新增阿里通义千问大模型qwen-turbo、qwen-plus
- 导航侧边栏UI布局及样式修改
- 应用Prompt预设已支持国内AI大模型（开启GPT之外的大模型预设插入变量 SAI_USER_QUESTION_CONTENT 即可！）
- 新增公安网备案号及标准图标配置显示  

### 【V2.6.3】更新功能
- 重写AI对话系统：新增 国内AI全模型，已支持OpenAI GPT全模型+国内AI全模型，已支持国内AI模型 百度文心一言、微软Azure、阿里云通义千问模型、清华智谱AIChatGLM、科大讯飞星火大模型等！
- 新增 AI工具插件：开通会员、连续对话、一键清屏、导出对话功能
- 分销代理新增银行卡提现渠道（微信、支付宝、银行卡）
- 新增Midjourney专业绘画提示词参考功能
- 去除游客功能：修复游客指纹ID导致后台账户明细变动查询失败和购买套餐导致一系列BUG
- 修复不是超级管理员（Super）可以删除订单记录的问题，即管理员(Admin)删除订单记录
- UI界面更新等其他优化

### 【V2.6.2】更新功能
- 新增MJ提交绘画，中文自动翻译英文功能
- 修复非会员用户开通限时会员，会员次数为：原永久次数+会员次数 BUG
- 优化思维导图生成逻辑，防止只生成两级
- 修复后台关闭签到功能，手机端仍然显示bug 

### 【V2.6.1】更新功能
- 增加访客体验功能、可配置每日未登录使用额度、注册账号可同步访客使用数据。用户端设置 -> 访客设置
- 增加后台底部自定义配置版权信息。 系统设置 -> 版权信息
- 增加虎皮椒支付自定义网关。 支付管理 -> 虎皮椒支付
- 增加违规敏感词检测记录功能。 风控管理 -> 违规检测记录

### 【V2.6.0】更新功能
- 优化key池额度耗尽锁定逻辑
- 优化MJ绘画连接、优化CSS、部分页面样式修改

### 【V2.5.9】更新功能
- 增加手机端签到领取免费次数功能
- 优化后台总计绘画数量逻辑！

### 【V2.5.8】更新功能
- 新增MJ 官方图片重新生成指令功能
- 新增官方 Vary 指令 单张图片对比加强 Vary(Strong) | Vary(Subtle)
- 新增官方 Zoom 指令 单张图片无限缩放 Zoom out 2x | Zoom out 1.5x

### 【V2.5.7】更新功能
- 新增GPT联网提问功能、手机号注册登录、签到功能、管理后台功能更新等
- 优化MJ首次绘画无上级ID显示问题、优化内置MJ代理
- 其他页面优化
 
【低版本不做记录】......

## 安装部署

可参考授权版本官方安装教程：

## Node.js + PM2 部署

### 环境准备

1. **安装 Node.js 环境**

   推荐使用 `nvm` (Node Version Manager) 来安装 Node.js。

   - 首先，安装 `nvm`，你可以从 `nvm` 的 GitHub 仓库找到安装指南:
     [nvm GitHub 仓库](https://github.com/nvm-sh/nvm)

   - 按照仓库中的安装说明进行操作，安装完成后，重启你的终端或命令行界面。

   - 安装 Node.js 版本 16.0 或更高版本:

     ```bash
     nvm install 16
     nvm use 16
     ```

   - 验证 Node.js 安装成功及版本:

     ```bash
     node -v
     ```

   使用这种方法安装 Node.js，可以确保你的开发环境中 Node.js 的版本管理更为灵活和方便。

2. **安装 PM2 / PNPM**

   - 使用 npm 安装 PM2：

     ```bash
     npm install pm2 -g
     ```

   - 使用 npm 安装 pnpm：

     ```bash
     npm install -g pnpm
     ```

   - 确认`PM2`, 和 `pnpm` 都已正确安装并且可以运行：

     ```bash
  
     pm2 -v
     pnpm -v
     ```

   - 这一步确保所有必需的工具和软件已正确安装，并且它们的版本符合项目需求。

### 配置项目

1. **配置环境变量**

   - 复制`.env.example`文件为`.env`。
   - 根据需要修改`.env`文件中的配置项。

2. **安装项目依赖**
   - 运行命令：`pnpm i`(若安装缓慢可尝试使用国内源)。
   - 这将根据`package.json`文件安装所有必需的依赖。

### 启动项目

1. **启动服务**

   - 使用命令：`pnpm start`
   - 这将启动项目，并默认在 9520 端口监听。

2. **访问项目**
   - 在浏览器中访问 `http://localhost:9520`，如果配置了 nginx 反向代理，则通过配置的域名访问。

### 项目升级

1. **拉取更新**

   - 拉取新的整合包：`git pull`

2. **删除旧进程**

   - 删除旧的 PM2 进程：`pm2 del all`。

3. **安装依赖**

   - 运行命令：`pnpm i` 以安装 `package.json` 中定义的必需依赖。

4. **启动服务**

   - 使用命令：`pnpm start` 来启动项目，它将默认在 9520 端口监听。

## 管理平台

- **管理端地址**：`sparkai/admin`

- **超级管理员账号**：`super`

- **密码**：`sparkai`

- **普通管理员账号**：`admin`

- **密码**：`123456`

普通管理员，可以预览后台非敏感信息。请使用超级管理员账号登入后台，并及时修改密码。

## 学习交流

扫码添加微信备注 `sparkai-open`，拉交流群。（不接受私聊技术咨询）

<img src="" width="300">
